# rtag - Release Tag ç®¡ç†å·¥å…·

rtag æ˜¯ä¸€ä¸ªåŸºäº Cobra çš„ Go å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºç®¡ç†é¡¹ç›®çš„å‘å¸ƒæ ‡ç­¾ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ç®¡ç†æœ¬åœ° `.rtag` æ–‡ä»¶ä¸­çš„æ ‡ç­¾
- äº¤äº’å¼æ·»åŠ æ ‡ç­¾
- æ‰¹é‡æˆ–å•ä¸ªæ¨é€ Git æ ‡ç­¾
- åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
- åˆ é™¤æ ‡ç­¾
- **ğŸŒ å›½é™…åŒ–æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡åŒè¯­ç•Œé¢

## å®‰è£…


### ä½¿ç”¨ go install
```bash
go install github.com/rushairer/rtag@latest
```


ç¡®ä¿ `$HOME/go/bin` åœ¨ä½ çš„ `PATH` ç¯å¢ƒå˜é‡ä¸­ã€‚

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬å‘½ä»¤

#### 1. åˆå§‹è¿è¡Œ
```bash
rtag
```
- å¦‚æœ `.rtag` æ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸ºç©ºï¼Œä¼šæç¤ºç”¨æˆ·äº¤äº’å¼æ·»åŠ æ ‡ç­¾
- å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œä¼šæ˜¾ç¤ºå½“å‰æ‰€æœ‰æ ‡ç­¾

#### 2. æ·»åŠ æ ‡ç­¾
```bash
# äº¤äº’å¼æ·»åŠ æ ‡ç­¾
./rtag add

# ç›´æ¥æ·»åŠ æŒ‡å®šæ ‡ç­¾
./rtag add api
./rtag add cron
./rtag add debug
```

#### 3. åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
```bash
./rtag list
```

#### 4. æ¨é€æ ‡ç­¾
```bash
# æ¨é€æ‰€æœ‰æ ‡ç­¾
./rtag push --all

# æ¨é€æŒ‡å®šæ ‡ç­¾
./rtag push api
```

#### 5. åˆ é™¤æ ‡ç­¾
```bash
./rtag rm api
```

## .rtag æ–‡ä»¶æ ¼å¼

`.rtag` æ–‡ä»¶æ¯è¡ŒåŒ…å«ä¸€ä¸ªæ ‡ç­¾åï¼Œä¾‹å¦‚ï¼š
```
api
cron
debug
```

## Git æ ‡ç­¾æ ¼å¼

æ¨é€æ—¶ä¼šåˆ›å»ºæ ¼å¼ä¸º `release-YYYYMMDDHHMM-{tag}` çš„ Git æ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š
- `release-202409221900-api`
- `release-202409221900-cron`
- `release-202409221900-debug`

## ç¤ºä¾‹å·¥ä½œæµ

1. åˆå§‹åŒ–é¡¹ç›®æ ‡ç­¾ï¼š
```bash
rtag init
# äº¤äº’å¼æ·»åŠ  api, cron, debug
```

2. æ·»åŠ æ–°æ ‡ç­¾ï¼š
```bash
rtag add web
```

3. æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ï¼š
```bash
rtag list
```

4. æ¨é€æ‰€æœ‰æ ‡ç­¾ï¼š
```bash
rtag push --all
```

5. æ¨é€å•ä¸ªæ ‡ç­¾ï¼š
```bash
rtag push api
```

6. åˆ é™¤ä¸éœ€è¦çš„æ ‡ç­¾ï¼š
```bash
rtag rm web
```

7. è¯­è¨€è®¾ç½®ï¼š
```bash
# æŸ¥çœ‹å½“å‰è¯­è¨€è®¾ç½®
rtag lang

# è®¾ç½®ä¸ºè‹±æ–‡
rtag lang en

# è®¾ç½®ä¸ºä¸­æ–‡
rtag lang zh
```

## å›½é™…åŒ–æ”¯æŒ

rtag æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡åŒè¯­ç•Œé¢ï¼š

### è¯­è¨€æ£€æµ‹ä¼˜å…ˆçº§
1. `RTAG_LANG` ç¯å¢ƒå˜é‡ï¼ˆ`en` æˆ– `zh`ï¼‰
2. `LANG` ç¯å¢ƒå˜é‡ï¼ˆåŒ…å« `zh` åˆ™ä½¿ç”¨ä¸­æ–‡ï¼‰
3. `LC_ALL` ç¯å¢ƒå˜é‡ï¼ˆåŒ…å« `zh` åˆ™ä½¿ç”¨ä¸­æ–‡ï¼‰
4. é»˜è®¤ä½¿ç”¨è‹±æ–‡

### ä½¿ç”¨ç¤ºä¾‹
```bash
# ä¸´æ—¶ä½¿ç”¨ä¸­æ–‡
RTAG_LANG=zh rtag --help

# ä¸´æ—¶ä½¿ç”¨è‹±æ–‡
RTAG_LANG=en rtag --help

# æ°¸ä¹…è®¾ç½®ï¼ˆæ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrcï¼‰
export RTAG_LANG=zh
```

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿åœ¨ Git ä»“åº“ä¸­è¿è¡Œæ­¤å·¥å…·
- æ¨é€æ ‡ç­¾å‰è¯·ç¡®ä¿æœ‰æ¨é€æƒé™
- æ ‡ç­¾åä¸èƒ½é‡å¤
- åˆ é™¤æ ‡ç­¾åªä¼šä» `.rtag` æ–‡ä»¶ä¸­åˆ é™¤ï¼Œä¸ä¼šåˆ é™¤å·²æ¨é€çš„ Git æ ‡ç­¾
- è¯­è¨€è®¾ç½®é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ï¼Œæ¯æ¬¡å‘½ä»¤æ‰§è¡Œæ—¶ç”Ÿæ•ˆ